<!DOCTYPE html>
<html>
<head>
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #6366f1, #4f46e5);
            --secondary-gradient: linear-gradient(135deg, #f5f3ff, #ede9fe);
            --text-primary: #1e1b4b;
            --text-secondary: #4c1d95;
            --accent-color: #6d28d9;
        }

        .quran-card {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: var(--secondary-gradient);
            border-radius: 16px;
            box-shadow: 0 4px 24px rgba(99, 102, 241, 0.15);
            padding: 24px;
            max-width: 480px;
            margin: 20px auto;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .quran-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 32px rgba(99, 102, 241, 0.25);
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .date-badge {
            background: var(--primary-gradient);
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 14px;
        }

        .recommendation-type {
            color: var(--accent-color);
            font-weight: 600;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .main-content {
            margin: 24px 0;
        }

        .surah-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 12px;
        }

        .arabic-text {
            font-size: 28px;
            text-align: right;
            margin: 16px 0;
            line-height: 1.6;
            color: var(--text-primary);
        }

        .translation {
            font-size: 16px;
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 16px;
        }

        .benefits {
            background: rgba(99, 102, 241, 0.1);
            border-left: 4px solid #6366f1;
            padding: 16px;
            margin: 16px 0;
            border-radius: 0 8px 8px 0;
        }

        .benefits-title {
            color: var(--accent-color);
            font-weight: 600;
            margin-bottom: 8px;
        }

        .benefits-list {
            color: var(--text-primary);
            margin: 0;
            padding-left: 20px;
        }

        .action-buttons {
            display: flex;
            gap: 12px;
            margin-top: 24px;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            font-size: 14px;
        }

        .btn-primary {
            background: var(--primary-gradient);
            color: white;
        }

        .btn-secondary {
            background: rgba(99, 102, 241, 0.1);
            color: var(--accent-color);
        }

        .btn:hover {
            transform: translateY(-2px);
            opacity: 0.9;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
            color: var(--accent-color);
        }

        .error-message {
            display: none;
            color: #dc2626;
            background: #fee2e2;
            padding: 12px;
            border-radius: 8px;
            margin: 16px 0;
        }

        @media (max-width: 480px) {
            .quran-card {
                margin: 20px 16px;
                padding: 16px;
            }

            .action-buttons {
                flex-direction: column;
            }

            .arabic-text {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="quran-card" id="dailyCard">
        <div class="card-header">
            <span class="date-badge" id="currentDate"></span>
            <span class="recommendation-type" id="recommendationType"></span>
        </div>
        <div class="loading" id="loadingIndicator">
            Loading recommendation...
        </div>
        <div class="error-message" id="errorMessage"></div>
        <div class="main-content" id="mainContent">
            <h2 class="surah-title" id="surahTitle"></h2>
            <div class="arabic-text" id="arabicText"></div>
            <div class="translation" id="translation"></div>
            <div class="benefits">
                <div class="benefits-title">Benefits & Virtues</div>
                <ul class="benefits-list" id="benefitsList"></ul>
            </div>
        </div>
        <div class="action-buttons">
            <button class="btn btn-primary" onclick="readMore()">Read Full Surah</button>
            <button class="btn btn-secondary" onclick="saveForLater()">Save for Later</button>
        </div>
    </div>

    <script>
        // Configuration object for API (to be filled in later)
        const config = {
            apiKey: 'AIzaSyCHMj_UZZZ5q4L-U-Xjp_dwhLyZpY1rvKw',
            apiEndpoint: 'https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent'
        };

        // Function to fetch recommendations from Gemini API
        async function fetchRecommendation() {
            const loadingIndicator = document.getElementById('loadingIndicator');
            const errorMessage = document.getElementById('errorMessage');
            const mainContent = document.getElementById('mainContent');

            try {
                loadingIndicator.style.display = 'block';
                mainContent.style.display = 'none';
                errorMessage.style.display = 'none';

                // Prepare the context for the API
                const today = new Date();
                const context = {
                    date: today.toISOString(),
                    day: today.getDay(),
                    previousRecommendations: [], // Could be fetched from local storage
                    userPreferences: {} // Could be fetched from user settings
                };

                // API call will go here
                // const response = await fetch(config.apiEndpoint, {
                //     method: 'POST',
                //     headers: {
                //         'Content-Type': 'application/json',
                //         'Authorization': `Bearer ${config.apiKey}`
                //     },
                //     body: JSON.stringify(context)
                // });

                // const data = await response.json();
                // updateCardContent(data);

                // Temporary: Remove this when implementing actual API
                throw new Error('API not yet implemented');

            } catch (error) {
                errorMessage.textContent = 'Unable to load recommendation. Please try again later.';
                errorMessage.style.display = 'block';
                console.error('Error fetching recommendation:', error);
            } finally {
                loadingIndicator.style.display = 'none';
                mainContent.style.display = 'block';
            }
        }

        // Function to update card content with API response
        function updateCardContent(data) {
            document.getElementById('currentDate').textContent = new Date().toLocaleDateString('en-US', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            document.getElementById('recommendationType').textContent = data.type;
            document.getElementById('surahTitle').textContent = data.surah;
            document.getElementById('arabicText').textContent = data.arabicText;
            document.getElementById('translation').textContent = data.translation;

            const benefitsList = document.getElementById('benefitsList');
            benefitsList.innerHTML = '';
            data.benefits.forEach(benefit => {
                const li = document.createElement('li');
                li.textContent = benefit;
                benefitsList.appendChild(li);
            });
        }

        // Action button handlers
        async function readMore() {
            // Implement navigation to full surah page
            console.log('Navigating to full surah reading page...');
        }

        async function saveForLater() {
            try {
                // Implement save functionality
                // Could store in localStorage or make an API call to user's saved items
                console.log('Saving recommendation...');
            } catch (error) {
                console.error('Error saving recommendation:', error);
            }
        }

        // Initialize the card when the page loads
        document.addEventListener('DOMContentLoaded', fetchRecommendation);
    </script>
</body>
</html>
