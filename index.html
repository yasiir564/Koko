from flask import Flask, request, jsonify
import re

app = Flask(__name__)

@app.route('/count', methods=['POST'])
def count():
    data = request.get_json()
    text = data.get("text", "")

    words = len(re.findall(r'\b\w+\b', text))  # Count words
    characters = len(text)  # Count characters
    sentences = text.count('.') + text.count('?') + text.count('!')  # Count sentences

    return jsonify({
        "words": words,
        "characters": characters,
        "sentences": sentences
    })

if __name__ == '__main__':
    app.run(debug=True)
